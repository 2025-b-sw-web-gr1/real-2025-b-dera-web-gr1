{% extends "base.html" %}

{% block title %}¬øPor qu√© usar Jinja2? - Ventajas y Comparaci√≥n{% endblock %}

{% block content %}
<section class="ventajas-hero">
    <div class="container">
        <h1>üöÄ ¬øPor qu√© eleg√≠ Jinja2?</h1>
        <p class="subtitle">Descubre las ventajas de este poderoso motor de plantillas</p>
        <div class="hero-image-container">
            <img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=800&h=400&fit=crop" 
                 alt="C√≥digo de programaci√≥n" 
                 class="hero-image"
                 loading="lazy">
        </div>
    </div>
</section>

<section class="ventajas-principales">
    <div class="container">
        <h2>Ventajas Principales de Jinja2</h2>
        <div class="ventajas-grid">
            {# BUCLE para mostrar ventajas con √≠ndice #}
            {% for ventaja in ventajas %}
            <div class="ventaja-card">
                <div class="ventaja-numero">{{ loop.index }}</div>
                <h3>{{ ventaja.titulo }}</h3>
                <p>{{ ventaja.descripcion }}</p>
                <div class="ejemplo-code">
                    <strong>Ejemplo:</strong>
                    <code>{{ ventaja.ejemplo }}</code>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section class="caracteristicas-demo">
    <div class="container">
        <h2>Caracter√≠sticas Demostradas en este Sitio</h2>
        <div class="demo-grid">
            <div class="demo-item">
                <h3>1. Herencia de Plantillas</h3>
                <p>Todas las p√°ginas extienden <code>base.html</code> usando <code>{% raw %}{% extends "base.html" %}{% endraw %}</code></p>
                <div class="code-example">
                    <pre>{% raw %}{% extends "base.html" %}
{% block content %}
  <!-- Contenido espec√≠fico -->
{% endblock %}{% endraw %}</pre>
                </div>
            </div>

            <div class="demo-item">
                <h3>2. Macros Reutilizables</h3>
                <p>Creamos una macro <code>render_product_card()</code> para mostrar tarjetas de productos</p>
                <div class="code-example">
                    <pre>{% raw %}{% macro render_product_card(producto) %}
  <div class="product-card">
    <h3>{{ producto.nombre }}</h3>
    <!-- m√°s HTML -->
  </div>
{% endmacro %}{% endraw %}</pre>
                </div>
            </div>

            <div class="demo-item">
                <h3>3. Filtros Potentes</h3>
                <p>Usamos filtros como <code>upper</code>, <code>truncate</code>, <code>format</code>, <code>sum</code>, etc.</p>
                <div class="code-example">
                    <pre>{% raw %}{{ "jinja2" | upper }}
{{ producto.descripcion | truncate(80) }}
{{ productos | map(attribute='stock') | sum }}{% endraw %}</pre>
                </div>
            </div>

            <div class="demo-item">
                <h3>4. Expresiones Python</h3>
                <p>Realizamos c√°lculos directamente en las plantillas</p>
                <div class="code-example">
                    <pre>{% raw %}Precio con IVA: ${{ "%.2f" | format(producto.precio * 1.21) }}
Total productos: {{ productos | length }}{% endraw %}</pre>
                </div>
            </div>

            <div class="demo-item">
                <h3>5. Condicionales Avanzados</h3>
                <p>L√≥gica condicional clara y legible</p>
                <div class="code-example">
                    <pre>{% raw %}{% if producto.stock > 20 %}
  Stock alto
{% elif producto.stock > 10 %}
  Stock limitado
{% else %}
  √öltimas unidades
{% endif %}{% endraw %}</pre>
                </div>
            </div>

            <div class="demo-item">
                <h3>6. Variables de Loop</h3>
                <p>Acceso a informaci√≥n del bucle como <code>loop.index</code>, <code>loop.last</code></p>
                <div class="code-example">
                    <pre>{% raw %}{% for item in items %}
  {{ loop.index }}. {{ item.nombre }}
  {% if not loop.last %}, {% endif %}
{% endfor %}{% endraw %}</pre>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="comparacion">
    <div class="container">
        <h2>Comparaci√≥n con Otros Motores de Renderizado</h2>
        
        <div class="comparison-grid">
            {# BUCLE sobre diccionario de comparaci√≥n #}
            {% for motor, datos in comparacion.items() %}
            <div class="comparison-card">
                <h3>{{ motor }}</h3>
                
                <div class="pros">
                    <h4>‚úÖ Ventajas</h4>
                    <ul>
                        {% for pro in datos.pros %}
                        <li>{{ pro }}</li>
                        {% endfor %}
                    </ul>
                </div>
                
                <div class="contras">
                    <h4>‚ùå Desventajas vs Jinja2</h4>
                    <ul>
                        {% for contra in datos.contras %}
                        <li>{{ contra }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
            {% endfor %}
            
            <div class="comparison-card jinja2-card">
                <h3>Jinja2 ‚≠ê</h3>
                
                <div class="pros">
                    <h4>‚úÖ Ventajas</h4>
                    <ul>
                        <li>Sintaxis Pyth√≥nica y clara</li>
                        <li>Herencia de plantillas robusta</li>
                        <li>M√°s de 50 filtros integrados</li>
                        <li>Macros para reutilizaci√≥n</li>
                        <li>Auto-escapado de seguridad</li>
                        <li>Expresiones Python completas</li>
                        <li>Excelente documentaci√≥n</li>
                    </ul>
                </div>
                
                <div class="contras">
                    <h4>‚ö†Ô∏è Consideraciones</h4>
                    <ul>
                        <li>Espec√≠fico para Python</li>
                        <li>Puede ser tentador poner mucha l√≥gica en plantillas</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="tabla-comparativa">
    <div class="container">
        <h2>Tabla Comparativa Detallada</h2>
        <div class="table-responsive">
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Caracter√≠stica</th>
                        <th>Jinja2</th>
                        <th>EJS</th>
                        <th>Handlebars</th>
                        <th>Pug</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Herencia de Plantillas</td>
                        <td class="check">‚úÖ Nativa</td>
                        <td class="cross">‚ùå No nativa</td>
                        <td class="partial">‚ö†Ô∏è Con helpers</td>
                        <td class="check">‚úÖ S√≠</td>
                    </tr>
                    <tr>
                        <td>Filtros Integrados</td>
                        <td class="check">‚úÖ 50+</td>
                        <td class="cross">‚ùå Pocos</td>
                        <td class="partial">‚ö†Ô∏è ~20</td>
                        <td class="partial">‚ö†Ô∏è Limitados</td>
                    </tr>
                    <tr>
                        <td>Macros/Componentes</td>
                        <td class="check">‚úÖ Macros</td>
                        <td class="partial">‚ö†Ô∏è Includes</td>
                        <td class="check">‚úÖ Partials</td>
                        <td class="check">‚úÖ Mixins</td>
                    </tr>
                    <tr>
                        <td>Auto-escapado XSS</td>
                        <td class="check">‚úÖ Por defecto</td>
                        <td class="partial">‚ö†Ô∏è Manual</td>
                        <td class="check">‚úÖ S√≠</td>
                        <td class="check">‚úÖ S√≠</td>
                    </tr>
                    <tr>
                        <td>Sintaxis</td>
                        <td class="check">‚úÖ Clara (HTML)</td>
                        <td class="check">‚úÖ HTML est√°ndar</td>
                        <td class="check">‚úÖ HTML est√°ndar</td>
                        <td class="partial">‚ö†Ô∏è Indentaci√≥n</td>
                    </tr>
                    <tr>
                        <td>Curva de Aprendizaje</td>
                        <td class="check">‚úÖ F√°cil</td>
                        <td class="check">‚úÖ F√°cil</td>
                        <td class="check">‚úÖ F√°cil</td>
                        <td class="cross">‚ùå Media-Alta</td>
                    </tr>
                    <tr>
                        <td>Expresiones Completas</td>
                        <td class="check">‚úÖ Python</td>
                        <td class="check">‚úÖ JavaScript</td>
                        <td class="cross">‚ùå Limitado</td>
                        <td class="check">‚úÖ JavaScript</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<section class="conclusion">
    <div class="container">
        <div class="conclusion-box">
            <h2>üí° Conclusi√≥n</h2>
            <p><strong>Eleg√≠ Jinja2 porque:</strong></p>
            <ul class="conclusion-list">
                <li>‚úÖ Sintaxis clara y similar a Python, f√°cil de aprender</li>
                <li>‚úÖ Sistema robusto de herencia de plantillas que reduce duplicaci√≥n de c√≥digo</li>
                <li>‚úÖ Gran cantidad de filtros integrados para manipular datos sin l√≥gica adicional</li>
                <li>‚úÖ Macros para crear componentes reutilizables</li>
                <li>‚úÖ Seguridad integrada con auto-escapado contra XSS</li>
                <li>‚úÖ Permite expresiones Python completas en las plantillas</li>
                <li>‚úÖ Excelente documentaci√≥n y gran comunidad</li>
                <li>‚úÖ Perfecta integraci√≥n con Flask (framework Python)</li>
            </ul>
            
            <p class="conclusion-final">
                Para un proyecto en Python/Flask, Jinja2 es la elecci√≥n natural por su potencia,
                flexibilidad y facilidad de uso. Su sintaxis Pyth√≥nica hace que sea intuitivo
                para desarrolladores Python, mientras que sus caracter√≠sticas avanzadas como
                herencia de plantillas y filtros lo hacen superior a alternativas m√°s simples.
            </p>
        </div>
    </div>
</section>

<section class="cta-final">
    <div class="container">
        <h2>¬øListo para explorar los productos?</h2>
        <div class="cta-buttons">
            <a href="{{ url_for('index') }}" class="btn-primary">Ver Destacados</a>
            <a href="{{ url_for('todos_productos') }}" class="btn-secondary">Cat√°logo Completo</a>
        </div>
    </div>
</section>
{% endblock %}
